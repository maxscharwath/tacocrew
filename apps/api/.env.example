# ============================================
# TacoCrew Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================
# Database Configuration
# ============================================
# For PostgreSQL (required for Vercel/production)
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?[params]
# Examples:
#   - Vercel Postgres: postgres://default:password@ep-xxx.region.aws.neon.tech:5432/verceldb?sslmode=require
#   - Supabase: postgresql://postgres:[password]@db.[project].supabase.co:5432/postgres
#   - Neon: postgresql://[user]:[password]@[endpoint].neon.tech/[dbname]?sslmode=require
#   - Local PostgreSQL: postgresql://postgres:password@localhost:5432/tacocrew?schema=public
DATABASE_URL=postgresql://postgres:password@localhost:5432/tacocrew?schema=public

# For SQLite (development only - NOT compatible with Vercel)
# DATABASE_URL=file:./dev.db

# ============================================
# Application Configuration
# ============================================
# Backend base URL (used for CORS and API references)
# Development with mock server: http://localhost:3001
# Development with real backend: https://www.gt-lausanne.ch
# Production: https://www.gt-lausanne.ch
BACKEND_BASE_URL=https://www.gt-lausanne.ch

# Node environment
NODE_ENV=development

# ============================================
# Authentication & Security
# ============================================
# JWT Secret - Generate a strong random string (min 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# JWT expiration time (e.g., "1h", "24h", "7d")
JWT_EXPIRES_IN=24h

# ============================================
# Web API Configuration
# ============================================
# Enable/disable the web API server
WEB_API_ENABLED=true

# Port for the web API server (only used in local development)
WEB_API_PORT=4000

# CORS origin (use * for development, specific domain for production)
# Production example: https://your-frontend.vercel.app
CORS_ORIGIN=*

# ============================================
# Rate Limiting
# ============================================
# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW=60000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX=100

# ============================================
# Backend Client Configuration
# ============================================
# Timeout for backend requests in milliseconds (default: 30000 = 30s)
BACKEND_TIMEOUT=30000

# CSRF token refresh interval in milliseconds (default: 1800000 = 30 minutes)
CSRF_REFRESH_INTERVAL=1800000

# ============================================
# Logging Configuration
# ============================================
# Log level: error, warn, info, debug, verbose
LOG_LEVEL=debug

# Log format: json (production) or text (development)
LOG_FORMAT=text
